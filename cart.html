<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Cart - ShopMate</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <nav>
        <h1>ShopMate</h1>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="product.html">Products</a></li>
          <li><a href="cart.html">Cart</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="cart">
        <h2>Your Shopping Cart</h2>
        <div id="cart-items"></div>
        <div class="cart-total">
          <h3>Total: $<span id="cart-total">0.00</span></h3>
          <button id="checkout">Proceed to Checkout</button>
        </div>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 ShopMate. All rights reserved.</p>
    </footer>

    <script>
      const cartItems = JSON.parse(localStorage.getItem("cart")) || [];
      const cartContainer = document.getElementById("cart-items");
      const cartTotal = document.getElementById("cart-total");

      function renderCart() {
        cartContainer.innerHTML = "";
        let total = 0;

        if (cartItems.length === 0) {
          cartContainer.innerHTML = "<p>Your cart is empty.</p>";
          return;
        }

        cartItems.forEach((item, index) => {
          const div = document.createElement("div");
          div.className = "cart-item";
          div.innerHTML = `
          <img src="${item.image}" alt="${item.name}" />
          <div>
            <h4>${item.name}</h4>
            <p>$${item.price.toFixed(2)}</p>
            <button data-index="${index}" class="remove">Remove</button>
          </div>
        `;
          cartContainer.appendChild(div);
          total += item.price;
        });

        cartTotal.textContent = total.toFixed(2);

        document.querySelectorAll(".remove").forEach((button) => {
          button.addEventListener("click", () => {
            const i = button.getAttribute("data-index");
            cartItems.splice(i, 1);
            localStorage.setItem("cart", JSON.stringify(cartItems));
            renderCart();
          });
        });
      }

      document.getElementById("checkout").addEventListener("click", () => {
        alert("Thank you for your purchase!");
        localStorage.removeItem("cart");
        renderCart();
      });

      renderCart();
    </script>
  </body>
</html>
